<div class="d-flex justify-content-between align-items-center border-bottom pb-2 mb-4 mt-3">
  <div>
    <h2 class="fw-bold mb-0">Latest Transfers</h2>
    <p class="text-muted small">List of most recent transfer activities</p>
  </div>
  <div class="btn-group">
    <button class="btn btn-outline-secondary btn-sm" title="Refresh transfers" onclick="window.location.reload()">
      <i class="bi bi-arrow-repeat"></i>
    </button>
  </div>
</div>

<%= render partial: "shared/search_form", locals: {
  url: root_path,
  placeholder: "Search by EAD identifier..."
} %>

<div id="transfers">
  <%= turbo_frame_tag :transfers_page, @pagy.page, target: :_top do %>
    <% if @transfers.empty? %>
      <div class="alert alert-info text-center">
        <p class="mb-0">No transfers found.</p>
      </div>
    <% else %>
      <%= render partial: "transfers/transfer", collection: @transfers, locals: {inline: true} %>
    <% end %>

    <% if @pagy.next %>
      <%= turbo_frame_tag :transfers_page, @pagy.next, src: root_path(page: @pagy.next), loading: :lazy, target: :_top do %>
        <%= tag.div "Loading..." %>
      <% end %>
    <% end %>
  <% end %>
</div>
