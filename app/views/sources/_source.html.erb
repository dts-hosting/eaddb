<%= tag.div id: dom_id(source), class: "card mb-3" do %>
  <div class="card-body">
    <div class="row align-items-center">
      <div class="col-md-3 text-start">
        <div class="d-flex align-items-center mb-1">
          <span class="text-muted small me-2">Source</span>
          <span class="badge bg-info text-light me-1"><%= source.class.display_name %></span>
          <span class="badge <%= status_badge_class(source) %> text-light">
            <%= source.status %>
          </span>
        </div>
        <span class="fw-medium"><%= source.name %></span>
      </div>

      <div class="col-md-3 text-start">
        <span class="text-muted small d-block mb-1">URL</span>
        <a href="<%= source.url %>" target="_blank" class="text-truncate d-inline-block" style="max-width: 250px;">
          <%= source.url %>
        </a>
      </div>

      <div class="col-md-3 text-start">
        <span class="text-muted small d-block mb-1">Records</span>
        <span class="fw-medium"><%= number_with_delimiter(source.total_records_count) || 0 %></span>
      </div>

      <div class="col-md-2 text-start">
        <span class="text-muted small d-block mb-1">Last Updated</span>
        <span class="fw-medium"><%= source.updated_at.strftime("%B %d, %Y at %H:%M") %></span>
      </div>

      <div class="col-md-1 text-end d-flex justify-content-end align-items-center">
        <div class="btn-group" role="group" aria-label="Source actions">
          <%= link_to edit_source_path(source), class: "btn btn-outline-success btn-sm border-end-0", title: "Edit source" do %>
            <i class="bi bi-pencil"></i>
            <% end %><%= link_to source_path(source), class: "btn btn-outline-primary btn-sm", title: "View source details" do %>
            <i class="bi bi-eye"></i>
            <% end %><%= link_to source_path(source), class: "btn btn-outline-danger btn-sm", data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this source?" }, title: "Delete source" do %>
            <i class="bi bi-trash"></i>
          <% end %>
        </div>
      </div>
    </div>
  </div>
<% end %>